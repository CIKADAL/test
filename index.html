<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADILY FLAVOR - مجموعة الوصفات</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --amazon-orange: #FF9900;
            --amazon-dark-blue: #232F3E;
            --amazon-light-blue: #37475A;
            --amazon-teal: #00A8E1;
            --amazon-yellow: #FEBD69;
            --amazon-green: #007600;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #EAEDED;
        }
        .heading {
            font-family: 'Playfair Display', serif;
        }
        .recipe-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .recipe-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .modal {
            transition: opacity 0.3s ease;
        }
        .admin-panel {
            height: 80vh;
            overflow-y: auto;
        }
        .amazon-button {
            background-color: var(--amazon-yellow);
            border-color: #c89411 #b0820f #99710d;
            box-shadow: 0 1px 0 rgba(255,255,255,.4) inset;
            color: #111;
        }
        .amazon-button:hover {
            background-color: #f3a847;
        }
        .amazon-primary-button {
            background-color: var(--amazon-orange);
            border-color: #c45500;
            box-shadow: 0 1px 0 rgba(255,255,255,.4) inset;
            color: #111;
        }
        .amazon-primary-button:hover {
            background-color: #fa8900;
        }
        .recipe-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .hero-image {
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
        }
        .category-tab {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .category-tab.active {
            background-color: var(--amazon-orange);
            color: white;
            border-color: var(--amazon-orange);
        }
        .ad-container {
            background-color: #f0f0f0;
            border: 1px dashed #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }
        .ad-label {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(0,0,0,0.5);
            color: white;
            font-size: 10px;
            padding: 2px 5px;
            border-radius: 3px;
        }
        /* Mobile menu styles */
        .mobile-menu {
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        .mobile-menu.open {
            transform: translateX(0);
        }
        /* Category tabs scrolling */
        .tabs-container {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none; /* Firefox */
        }
        .tabs-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Edge */
        }
        /* Sticky ad on mobile */
        .sticky-mobile-ad {
            position: sticky;
            bottom: 0;
            z-index: 40;
        }
        .image-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #777;
            background-color: #f8f8f8;
            padding: 10px;
            text-align: center;
        }
        .image-placeholder i {
            font-size: 2rem;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="bg-[#232F3E] text-white shadow-lg">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <button id="mobileMenuBtn" class="ml-2 md:hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 ml-2 text-[#FF9900]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                </svg>
                <h1 class="text-xl font-bold heading">ADILY FLAVOR</h1>
            </div>
            <nav class="hidden md:block">
                <ul class="flex space-x-6">
                    <li><a href="#" class="hover:text-[#FEBD69] font-medium">الرئيسية</a></li>
                    <li><a href="#categories" class="hover:text-[#FEBD69] font-medium">التصنيفات</a></li>
                    <li><a href="#" class="hover:text-[#FEBD69] font-medium">من نحن</a></li>
                    <li><a href="#" class="hover:text-[#FEBD69] font-medium">اتصل بنا</a></li>
                    <li>
                        <button id="adminBtn" class="hover:text-[#FEBD69] font-medium flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                            </svg>
                            المشرف
                        </button>
                    </li>
                </ul>
            </nav>
            <button id="adminBtnMobile" class="md:hidden hover:text-[#FEBD69]">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                </svg>
            </button>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="fixed inset-y-0 right-0 w-64 bg-[#232F3E] text-white z-50 shadow-lg mobile-menu">
        <div class="p-5">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold heading">القائمة</h2>
                <button id="closeMobileMenu">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <ul class="space-y-4">
                <li><a href="#" class="block hover:text-[#FEBD69] font-medium py-2">الرئيسية</a></li>
                <li><a href="#categories" class="block hover:text-[#FEBD69] font-medium py-2">التصنيفات</a></li>
                <li><a href="#" class="block hover:text-[#FEBD69] font-medium py-2">من نحن</a></li>
                <li><a href="#" class="block hover:text-[#FEBD69] font-medium py-2">اتصل بنا</a></li>
            </ul>
        </div>
    </div>
    <div id="mobileMenuOverlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>

    <!-- Hero Section -->
    <section class="bg-cover bg-center h-48 hero-image" id="heroSection">
        <div class="container mx-auto px-4 h-full flex items-center">
            <div class="max-w-2xl text-white">
                <h2 class="text-2xl font-bold mb-2 heading">اكتشف وصفات لذيذة</h2>
                <p class="text-sm mb-4">استكشف مجموعة الوصفات الشهية من جميع أنحاء العالم</p>
                <a href="#categories" class="amazon-primary-button hover:bg-[#fa8900] text-black font-bold py-2 px-4 rounded-lg transition duration-300 inline-flex items-center text-sm">
                    تصفح التصنيفات
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2 transform rotate-180" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- Top Banner Ad -->
    <div class="container mx-auto px-4 py-3">
        <div class="ad-container h-16 rounded-lg">
            <span class="ad-label">إعلان</span>
            <div class="text-center">
                <p class="text-gray-500 font-medium text-sm">إعلان البانر العلوي</p>
            </div>
        </div>
    </div>

    <!-- Categories Section -->
    <section id="categories" class="py-6 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-2xl font-bold mb-4 text-center heading text-[#232F3E]">تصنيفات الوصفات</h2>
            
            <!-- Category Tabs - Scrollable on mobile -->
            <div class="tabs-container mb-4">
                <div class="flex flex-nowrap gap-2 pb-2" id="categoryTabs">
                    <button class="category-tab active px-3 py-1 rounded-lg border-2 border-[#232F3E] font-medium whitespace-nowrap text-sm" data-category="all">
                        جميع الوصفات
                    </button>
                    <button class="category-tab px-3 py-1 rounded-lg border-2 border-[#232F3E] font-medium whitespace-nowrap text-sm" data-category="breakfast">
                        فطور
                    </button>
                    <button class="category-tab px-3 py-1 rounded-lg border-2 border-[#232F3E] font-medium whitespace-nowrap text-sm" data-category="lunch">
                        غداء
                    </button>
                    <button class="category-tab px-3 py-1 rounded-lg border-2 border-[#232F3E] font-medium whitespace-nowrap text-sm" data-category="dinner">
                        عشاء
                    </button>
                    <button class="category-tab px-3 py-1 rounded-lg border-2 border-[#232F3E] font-medium whitespace-nowrap text-sm" data-category="dessert">
                        حلويات
                    </button>
                    <button class="category-tab px-3 py-1 rounded-lg border-2 border-[#232F3E] font-medium whitespace-nowrap text-sm" data-category="appetizer">
                        مقبلات
                    </button>
                    <button class="category-tab px-3 py-1 rounded-lg border-2 border-[#232F3E] font-medium whitespace-nowrap text-sm" data-category="vegetarian">
                        نباتي
                    </button>
                </div>
            </div>
            
            <!-- Recipe Container -->
            <div class="grid grid-cols-1 gap-4" id="recipeContainer">
                <!-- Recipe cards will be dynamically inserted here -->
            </div>
            
            <!-- In-content Ad -->
            <div class="ad-container h-20 my-5 rounded-lg">
                <span class="ad-label">إعلان</span>
                <div class="text-center">
                    <p class="text-gray-500 font-medium text-sm">إعلان داخل المحتوى</p>
                </div>
            </div>
            
            <!-- Mobile Ad -->
            <div class="ad-container h-60 rounded-lg my-5">
                <span class="ad-label">إعلان</span>
                <div class="text-center">
                    <p class="text-gray-500 font-medium">إعلان للجوال</p>
                    <p class="text-sm text-gray-400">300x250</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Bottom Banner Ad -->
    <div class="container mx-auto px-4 py-3 mb-6">
        <div class="ad-container h-20 rounded-lg">
            <span class="ad-label">إعلان</span>
            <div class="text-center">
                <p class="text-gray-500 font-medium text-sm">إعلان البانر السفلي</p>
            </div>
        </div>
    </div>

    <!-- Sticky Mobile Ad -->
    <div class="sticky-mobile-ad">
        <div class="container mx-auto px-4 py-2">
            <div class="ad-container h-14 rounded-lg">
                <span class="ad-label">إعلان</span>
                <div class="text-center">
                    <p class="text-gray-500 font-medium text-sm">إعلان لاصق للجوال</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-[#232F3E] text-white py-6">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div>
                    <h3 class="text-lg font-bold mb-3 heading">ADILY FLAVOR</h3>
                    <p class="mb-3 text-sm">مشاركة متعة الطهي مع عشاق الطعام حول العالم.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="hover:text-[#FEBD69]">
                            <i class="fab fa-facebook"></i>
                        </a>
                        <a href="#" class="hover:text-[#FEBD69]">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="hover:text-[#FEBD69]">
                            <i class="fab fa-twitter"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-3 heading">روابط سريعة</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="hover:text-[#FEBD69]">الرئيسية</a></li>
                        <li><a href="#categories" class="hover:text-[#FEBD69]">التصنيفات</a></li>
                        <li><a href="#" class="hover:text-[#FEBD69]">من نحن</a></li>
                        <li><a href="#" class="hover:text-[#FEBD69]">اتصل بنا</a></li>
                        <li><a href="#" class="hover:text-[#FEBD69]">سياسة الخصوصية</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-3 heading">النشرة الإخبارية</h3>
                    <p class="mb-3 text-sm">اشترك للحصول على أحدث الوصفات والتحديثات.</p>
                    <form class="flex">
                        <input type="email" placeholder="بريدك الإلكتروني" class="px-3 py-2 w-full rounded-l-lg focus:outline-none text-gray-800 text-sm">
                        <button type="submit" class="amazon-button px-3 py-2 rounded-r-lg transition duration-300 text-black text-sm whitespace-nowrap">
                            اشتراك
                        </button>
                    </form>
                </div>
            </div>
            <div class="border-t border-[#37475A] mt-5 pt-4 text-center text-sm">
                <p>&copy; 2023 ADILY FLAVOR. جميع الحقوق محفوظة.</p>
            </div>
        </div>
    </footer>

    <!-- Admin Login Modal -->
    <div id="adminModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden modal opacity-0">
        <div class="bg-white rounded-lg p-5 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold heading text-[#232F3E]">وصول المشرف</h3>
                <button id="closeAdminModal" class="text-gray-500 hover:text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <p class="mb-4 text-gray-600 text-sm">أدخل رمز PIN للوصول إلى لوحة التحكم.</p>
            <div class="mb-4">
                <label for="pinCode" class="block text-gray-700 mb-2 text-sm">رمز PIN:</label>
                <input type="password" id="pinCode" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FF9900]">
            </div>
            <div class="flex justify-end">
                <button id="submitPin" class="amazon-primary-button font-bold py-2 px-4 rounded-lg transition duration-300 text-black text-sm">
                    إرسال
                </button>
            </div>
            <p id="pinError" class="mt-3 text-red-500 hidden text-sm">رمز PIN غير صحيح. يرجى المحاولة مرة أخرى.</p>
        </div>
    </div>

    <!-- Recipe Detail Modal -->
    <div id="recipeDetailModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden modal opacity-0">
        <div class="bg-white rounded-lg p-4 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-3">
                <h3 id="modalRecipeTitle" class="text-xl font-bold heading text-[#232F3E]">تفاصيل الوصفة</h3>
                <button id="closeRecipeDetailModal" class="text-gray-500 hover:text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div id="modalRecipeImage" class="h-48 bg-[#F3F3F3] rounded-lg overflow-hidden mb-3">
                <!-- Recipe image will be inserted here -->
            </div>
            <div>
                <div class="mb-2">
                    <span id="modalRecipeCategory" class="inline-block bg-[#FEBD69] text-[#232F3E] px-3 py-1 rounded-full text-xs font-medium">التصنيف</span>
                </div>
                <p id="modalRecipeDescription" class="text-gray-600 mb-3 text-sm"></p>
                <div class="flex space-x-4 mb-3">
                    <div class="flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-[#FF9900] ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span id="modalPrepTime" class="text-sm"></span>
                    </div>
                    <div class="flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-[#FF9900] ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z" />
                        </svg>
                        <span id="modalCookTime" class="text-sm"></span>
                    </div>
                </div>
                <h4 class="text-base font-semibold mb-2">المكونات:</h4>
                <ul id="modalIngredients" class="list-disc pr-5 mb-3 space-y-1 text-sm">
                    <!-- Ingredients will be inserted here -->
                </ul>
            </div>
            
            <!-- In-modal Ad -->
            <div class="ad-container h-16 my-3 rounded-lg">
                <span class="ad-label">إعلان</span>
                <div class="text-center">
                    <p class="text-gray-500 font-medium text-sm">إعلان داخل النافذة</p>
                </div>
            </div>
            
            <div class="mt-3">
                <h4 class="text-base font-semibold mb-2">الخطوات:</h4>
                <ol id="modalInstructions" class="list-decimal pr-5 space-y-2 text-sm">
                    <!-- Instructions will be inserted here -->
                </ol>
            </div>
        </div>
    </div>

    <script>
        // Sample recipe data with reliable image URLs
        let recipes = [
            {
                id: 1,
                name: "بيتزا مارغريتا الكلاسيكية",
                description: "بيتزا إيطالية تقليدية بسيطة ولذيذة بمكونات طازجة.",
                prepTime: 20,
                cookTime: 15,
                category: "dinner",
                ingredients: [
                    "1 كرة عجينة بيتزا",
                    "3 ملاعق كبيرة صلصة طماطم",
                    "125 جبنة موزاريلا طازجة",
                    "أوراق ريحان طازجة",
                    "2 ملاعق كبيرة زيت زيتون",
                    "ملح وفلفل حسب الرغبة"
                ],
                instructions: [
                    "سخن الفرن على 245 درجة مئوية مع حجر بيتزا إذا كان متوفراً.",
                    "افرد عجينة البيتزا على سطح مرشوش بالدقيق إلى السماكة المطلوبة.",
                    "انشر صلصة الطماطم بالتساوي على العجينة مع ترك حواف صغيرة.",
                    "وزع قطع الموزاريلا بالتساوي على الصلصة.",
                    "اخبز لمدة 12-15 دقيقة حتى يصبح القشرة ذهبية والجبنة فقاعية.",
                    "أخرج من الفرن، وزع أوراق الريحان، صب زيت الزيتون، وتبل بالملح والفلفل.",
                    "قطع وقدم فوراً."
                ],
                image: "https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=600"
            },
            {
                id: 2,
                name: "سباغيتي بولونيز",
                description: "طبق معكرونة إيطالي كلاسيكي بصلصة لحم غنية.",
                prepTime: 15,
                cookTime: 45,
                category: "dinner",
                ingredients: [
                    "400 جم سباغيتي",
                    "500 جم لحم مفروم",
                    "1 بصلة مفرومة ناعماً",
                    "2 فصوص ثوم مفرومة",
                    "2 جزر مكعبات صغيرة",
                    "2 ساق كرفس مكعبات صغيرة",
                    "400 جم طماطم معلبة",
                    "2 ملاعق كبيرة معجون طماطم",
                    "1 كوب مرق لحم",
                    "1 ملعقة صغيرة أوريغانو مجفف",
                    "ملح وفلفل حسب الرغبة",
                    "جبن بارميزان للتقديم"
                ],
                instructions: [
                    "سخن الزيت في مقلاة كبيرة واطهو البصل، الثوم، الجزر، والكرفس حتى يلين.",
                    "أضف اللحم المفروم واطهو حتى يصبح بنياً.",
                    "أضف الطماطم، معجون الطماطم، مرق اللحم، والأوريغانو.",
                    "اتركه على نار هادئة لمدة 30 دقيقة حتى تتماسك الصلصة.",
                    "اطهو السباغيتي حسب التعليمات على العبوة.",
                    "صفّي المعكرونة وقدمها مع صلصة البولونيز وجبن البارميزان المبشور."
                ],
                image: "https://images.pexels.com/photos/1279330/pexels-photo-1279330.jpeg?auto=compress&cs=tinysrgb&w=600"
            },
            {
                id: 3,
                name: "كوكيز الشوكولاتة",
                description: "كوكيز طرية ومضغوطة مع رقائق شوكولاتة ذائبة، مثالية لأي مناسبة.",
                prepTime: 15,
                cookTime: 10,
                category: "dessert",
                ingredients: [
                    "1 كوب زبدة طرية",
                    "1 كوب سكر أبيض",
                    "1 كوب سكر بني",
                    "2 بيضات",
                    "2 ملعقة صغيرة فانيليا",
                    "3 أكواب دقيق",
                    "1 ملعقة صغيرة بيكينج صودا",
                    "2 ملعقة صغيرة ماء ساخن",
                    "1/2 ملعقة صغيرة ملح",
                    "2 كوب رقائق شوكولاتة"
                ],
                instructions: [
                    "سخن الفرن على 175 درجة مئوية.",
                    "اخفق الزبدة والسكر حتى يصبح الخليط ناعماً.",
                    "اخفق البيض واحدة تلو الأخرى ثم أضف الفانيليا.",
                    "حل البيكينج صودا في الماء الساخن وأضفه مع الملح.",
                    "أضف الدقيق ورقائق الشوكولاتة.",
                    "ضع بملعقة كبيرة على صينية غير مدهونة.",
                    "اخبز لمدة 10 دقائق أو حتى تصبح الحواف ذهبية."
                ],
                image: "https://images.pexels.com/photos/230325/pexels-photo-230325.jpeg?auto=compress&cs=tinysrgb&w=600"
            },
            {
                id: 4,
                name: "توست الأفوكادو",
                description: "فطور بسيط ومغذي مع أفوكادو كريمية على خبز محمص.",
                prepTime: 5,
                cookTime: 5,
                category: "breakfast",
                ingredients: [
                    "2 شريحة خبز كامل",
                    "1 أفوكادو ناضج",
                    "1/2 ليمون عصير",
                    "ملح وفلفل حسب الرغبة",
                    "رقائق فلفل أحمر (اختياري)",
                    "2 بيض (اختياري)"
                ],
                instructions: [
                    "حمص الخبز حتى يصبح ذهبياً ومقرمشاً.",
                    "اقطع الأفوكادو إلى نصفين، أزل البذرة، واهرس اللب في وعب.",
                    "أضف عصير الليمون، الملح، والفلفل إلى الأفوكادو واهرس بالشوكة.",
                    "انشر خليط الأفوكادو على الخبز المحمص.",
                    "إذا رغبت، أضف بيضة مسلوقة أو مقلية.",
                    "رش رقائق الفلفل الأحمر إذا أردت بعض الحرارة."
                ],
                image: "https://images.pexels.com/photos/1030973/pexels-photo-1030973.jpeg?auto=compress&cs=tinysrgb&w=600"
            },
            {
                id: 5,
                name: "خضروات سوتيه",
                description: "خضروات سوتيه سريعة وصحية مع صلصة لذيذة.",
                prepTime: 15,
                cookTime: 10,
                category: "vegetarian",
                ingredients: [
                    "2 ملعقة كبيرة زيت نباتي",
                    "2 فصوص ثوم مفروم",
                    "1 ملعقة كبيرة زنجبيل مفروم",
                    "1 فلفل رومي شرائح",
                    "1 جزر شرائح رفيعة",
                    "1 كوب زهيرات بروكلي",
                    "1 كوب بازلاء",
                    "1 كوب مشروم شرائح",
                    "3 ملاعق كبيرة صويا صوص",
                    "1 ملعقة كبيرة زيت سمسم",
                    "1 ملعقة كبيرة عسل أو شراب القيقب",
                    "سمسم للتزيين",
                    "أرز مطبوخ للتقديم"
                ],
                instructions: [
                    "سخن الزيت في مقلاة أو ووك على نار عالية.",
                    "أضف الثوم والزنجبيل وقلب لمدة 30 ثانية حتى تفوح رائحته.",
                    "أضف الخضروات وقلب لمدة 5-7 دقائق حتى تصبح مقرمشة.",
                    "في وعاء صغير، اخلط صوص الصويا، زيت السمسم، والعسل.",
                    "صب الصلصة على الخضروات وقلب لتغطيتها.",
                    "زين بالسمسم وقدم مع الأرز."
                ],
                image: "https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=600"
            }
        ];

        // Set hero image with reliable URL
        const heroImageUrl = "https://images.pexels.com/photos/1640772/pexels-photo-1640772.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1";
        document.getElementById('heroSection').style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('${heroImageUrl}')`;

        // DOM Elements
        const recipeContainer = document.getElementById('recipeContainer');
        const adminBtn = document.getElementById('adminBtn');
        const adminBtnMobile = document.getElementById('adminBtnMobile');
        const adminModal = document.getElementById('adminModal');
        const closeAdminModal = document.getElementById('closeAdminModal');
        const pinCode = document.getElementById('pinCode');
        const submitPin = document.getElementById('submitPin');
        const pinError = document.getElementById('pinError');
        const recipeDetailModal = document.getElementById('recipeDetailModal');
        const closeRecipeDetailModal = document.getElementById('closeRecipeDetailModal');
        const modalRecipeTitle = document.getElementById('modalRecipeTitle');
        const modalRecipeImage = document.getElementById('modalRecipeImage');
        const modalRecipeDescription = document.getElementById('modalRecipeDescription');
        const modalRecipeCategory = document.getElementById('modalRecipeCategory');
        const modalPrepTime = document.getElementById('modalPrepTime');
        const modalCookTime = document.getElementById('modalCookTime');
        const modalIngredients = document.getElementById('modalIngredients');
        const modalInstructions = document.getElementById('modalInstructions');
        const categoryTabs = document.querySelectorAll('.category-tab');
        
        // Mobile menu elements
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const closeMobileMenu = document.getElementById('closeMobileMenu');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');

        // Initialize the page
        function init() {
            displayRecipes('all');
            setupCategoryTabs();
            setupMobileMenu();
        }

        // Setup mobile menu
        function setupMobileMenu() {
            mobileMenuBtn.addEventListener('click', function() {
                mobileMenu.classList.add('open');
                mobileMenuOverlay.classList.remove('hidden');
            });
            
            closeMobileMenu.addEventListener('click', function() {
                mobileMenu.classList.remove('open');
                mobileMenuOverlay.classList.add('hidden');
            });
            
            mobileMenuOverlay.addEventListener('click', function() {
                mobileMenu.classList.remove('open');
                mobileMenuOverlay.classList.add('hidden');
            });
            
            // Close mobile menu when clicking on a link
            document.querySelectorAll('#mobileMenu a').forEach(link => {
                link.addEventListener('click', function() {
                    mobileMenu.classList.remove('open');
                    mobileMenuOverlay.classList.add('hidden');
                });
            });
        }

        // Setup category tabs
        function setupCategoryTabs() {
            categoryTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const category = this.getAttribute('data-category');
                    
                    // Update active tab
                    categoryTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Display recipes for the selected category
                    displayRecipes(category);
                });
            });
        }

        // Display recipes based on category
        function displayRecipes(category) {
            recipeContainer.innerHTML = '';
            
            let filteredRecipes;
            if (category === 'all') {
                filteredRecipes = recipes;
            } else {
                filteredRecipes = recipes.filter(recipe => recipe.category === category);
            }
            
            if (filteredRecipes.length === 0) {
                const noRecipes = document.createElement('div');
                noRecipes.className = 'col-span-full text-center py-6 bg-gray-100 rounded-lg';
                noRecipes.innerHTML = `
                    <i class="fas fa-utensils text-gray-400 text-4xl mb-3"></i>
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">لا توجد وصفات</h3>
                    <p class="text-gray-500 text-sm">لا توجد وصفات في هذا التصنيف بعد.</p>
                `;
                recipeContainer.appendChild(noRecipes);
                return;
            }
            
            filteredRecipes.forEach(recipe => {
                const recipeCard = createRecipeCard(recipe);
                recipeContainer.appendChild(recipeCard);
            });
            
            // Add event listeners to view recipe buttons
            document.querySelectorAll('.view-recipe').forEach(button => {
                button.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    showRecipeDetail(id);
                });
            });
        }

        // Create a recipe card element
        function createRecipeCard(recipe) {
            const recipeCard = document.createElement('div');
            recipeCard.className = 'bg-white rounded-lg overflow-hidden shadow-lg recipe-card mb-4';
            
            // Format category name for display
            let categoryDisplay = recipe.category.replace('-', ' ');
            categoryDisplay = categoryDisplay.charAt(0).toUpperCase() + categoryDisplay.slice(1);
            
            recipeCard.innerHTML = `
                <div class="h-40 bg-[#F3F3F3] flex items-center justify-center overflow-hidden">
                    <img src="${recipe.image}" alt="${recipe.name}" class="recipe-image" loading="lazy" onerror="this.onerror=null; this.parentNode.innerHTML='<div class=\'image-placeholder\'><i class=\'fas fa-image text-gray-400\'></i><span>تعذر تحميل الصورة</span></div>'">
                </div>
                <div class="p-4">
                    <div class="mb-2">
                        <span class="inline-block bg-[#FEBD69] text-[#232F3E] px-2 py-1 rounded-full text-xs font-medium">${categoryDisplay}</span>
                    </div>
                    <h3 class="text-lg font-bold mb-2 heading text-[#232F3E]">${recipe.name}</h3>
                    <p class="text-gray-600 mb-4 line-clamp-2 text-sm">${recipe.description}</p>
                    <div class="flex justify-between items-center">
                        <div class="flex space-x-2">
                            <div class="flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-[#FF9900] ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                <span class="text-xs">${recipe.prepTime} د</span>
                            </div>
                            <div class="flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-[#FF9900] ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z" />
                                </svg>
                                <span class="text-xs">${recipe.cookTime} د</span>
                            </div>
                        </div>
                        <button class="view-recipe amazon-button hover:bg-[#f3a847] text-black px-2 py-1 rounded-lg text-xs transition duration-300" data-id="${recipe.id}">
                            عرض الوصفة
                        </button>
                    </div>
                </div>
            `;
            return recipeCard;
        }

        // Show recipe detail modal
        function showRecipeDetail(id) {
            const recipe = recipes.find(r => r.id === id);
            if (!recipe) return;

            modalRecipeTitle.textContent = recipe.name;
            
            // Create image with error handling
            modalRecipeImage.innerHTML = `
                <img src="${recipe.image}" alt="${recipe.name}" class="w-full h-full object-cover" 
                     onerror="this.onerror=null; this.src=''; this.parentNode.innerHTML='<div class=\'image-placeholder h-full\'><i class=\'fas fa-image text-gray-400 text-4xl\'></i><span>تعذر تحميل صورة الوصفة</span></div>'">
            `;
            
            modalRecipeDescription.textContent = recipe.description;
            
            // Format category name for display
            let categoryDisplay = recipe.category.replace('-', ' ');
            categoryDisplay = categoryDisplay.charAt(0).toUpperCase() + categoryDisplay.slice(1);
            modalRecipeCategory.textContent = categoryDisplay;
            
            modalPrepTime.textContent = `تحضير: ${recipe.prepTime} دقيقة`;
            modalCookTime.textContent = `طبخ: ${recipe.cookTime} دقيقة`;

            modalIngredients.innerHTML = '';
            recipe.ingredients.forEach(ingredient => {
                const li = document.createElement('li');
                li.textContent = ingredient;
                modalIngredients.appendChild(li);
            });

            modalInstructions.innerHTML = '';
            recipe.instructions.forEach(instruction => {
                const li = document.createElement('li');
                li.textContent = instruction;
                modalInstructions.appendChild(li);
            });

            recipeDetailModal.classList.remove('hidden');
            setTimeout(() => {
                recipeDetailModal.classList.add('opacity-100');
            }, 10);
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', init);

        adminBtn.addEventListener('click', function() {
            adminModal.classList.remove('hidden');
            setTimeout(() => {
                adminModal.classList.add('opacity-100');
            }, 10);
        });

        adminBtnMobile.addEventListener('click', function() {
            adminModal.classList.remove('hidden');
            setTimeout(() => {
                adminModal.classList.add('opacity-100');
            }, 10);
        });

        closeAdminModal.addEventListener('click', function() {
            adminModal.classList.remove('opacity-100');
            setTimeout(() => {
                adminModal.classList.add('hidden');
            }, 300);
            pinCode.value = '';
            pinError.classList.add('hidden');
        });

        submitPin.addEventListener('click', function() {
            // Simple PIN validation (1234 is the PIN)
            if (pinCode.value === '1234') {
                adminModal.classList.remove('opacity-100');
                setTimeout(() => {
                    adminModal.classList.add('hidden');
                }, 300);
                pinCode.value = '';
                pinError.classList.add('hidden');
                alert('تم الدخول إلى لوحة التحكم بنجاح!');
            } else {
                pinError.classList.remove('hidden');
            }
        });

        closeRecipeDetailModal.addEventListener('click', function() {
            recipeDetailModal.classList.remove('opacity-100');
            setTimeout(() => {
                recipeDetailModal.classList.add('hidden');
            }, 300);
        });

        // Close modals when clicking outside
        window.addEventListener('click', function(e) {
            if (e.target === adminModal) {
                adminModal.classList.remove('opacity-100');
                setTimeout(() => {
                    adminModal.classList.add('hidden');
                }, 300);
                pinCode.value = '';
                pinError.classList.add('hidden');
            }
            
            if (e.target === recipeDetailModal) {
                recipeDetailModal.classList.remove('opacity-100');
                setTimeout(() => {
                    recipeDetailModal.classList.add('hidden');
                }, 300);
            }
        });
    </script>
</body>
</html>
